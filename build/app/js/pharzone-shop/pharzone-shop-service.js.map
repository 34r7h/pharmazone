{"version":3,"sources":["pharzone-shop/pharzone-shop-service.es6"],"names":[],"mappings":";;;;;;AAAA,AAAC,CAAA,YAAM;AACL,cAAY,CAAC;;MAEP,YAAY;AACL,aADP,YAAY,CACJ,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE;4BADtC,YAAY;;AAEd,UAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC1B,UAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;AACvC,UAAI,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;AAC9B,UAAI,aAAa,GAAG,EAAE,CAAC;AACvB,aAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAC,UAAS,OAAO,EAAC;AACtD,qBAAa,CAAC,OAAO,CAAC,GAAG,CAAC,GAAC,OAAO,CAAC;OACpC,CAAC,CAAC;AACH,UAAI,CAAC,aAAa,GAAG,aAAa,CAAC;AACnC,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;;;;AAI/B,UAAI,UAAU,GAAG,EAAE;UAAE,KAAK,GAAG,EAAE;UAAE,QAAQ,GAAG,EAAE,CAAC;AAC/C,aAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAC,UAAS,IAAI,EAAC;AAChD,kBAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAC,IAAI,CAAC;AAC3B,eAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,UAAS,IAAI,EAAC;AAChD,kBAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;AAC3B,eAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACtB,CAAC,CAAC;OACJ,CAAC,CAAC;AACH,UAAI,CAAC,UAAU,GAAG,UAAU,CAAC;AAC7B,UAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AACxC,UAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC1B,UAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC;KACzC;;;;;;;;;;iBA3BG,YAAY;;aA6Bb,eAAG;AACJ,eAAO,cAAc,CAAC;OACvB;;;WA/BG,YAAY;;;AAyClB,SAAO,CACJ,MAAM,CAAC,cAAc,CAAC,CACtB,OAAO,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;CAC1C,CAAA,EAAE,CAAE","file":"pharzone-shop/pharzone-shop-service.js","sourcesContent":["(() => {\n  'use strict';\n\n  class PharzoneShop {\n    constructor(Pharzone, $log, PharzoneCart) {\n      this.test = Pharzone.test;\n      this.products = Pharzone.data.products;\n      this.cart = PharzoneCart.cart;\n      var productsIndex = {};\n      angular.forEach(Pharzone.data.products,function(product){\n        productsIndex[product.url]=product;\n      });\n      this.productsIndex = productsIndex;\n      $log.debug(this.productsIndex);\n\n/*TODO keep on indexing all day */\n\n      var usersIndex = {}, deals = [], thisDeal = {};\n      angular.forEach(Pharzone.data.users,function(user){\n        usersIndex[user.name]=user;\n        angular.forEach(user.deals.current, function(deal){\n          thisDeal[deal.drug] = deal;\n          deals.push(thisDeal);\n        });\n      });\n      this.usersIndex = usersIndex;\n      this.deals = deals;\n      $log.debug(this.usersIndex, this.deals);\n      this.cart = Pharzone.cart;\n      this.addToCart = Pharzone.api.addToCart;\n    }\n\n    get() {\n      return 'PharzoneShop';\n    }\n  }\n\n  /**\n   * @ngdoc service\n   * @name pharzoneShop.service:PharzoneShop\n   *\n   * @description\n   *\n   */\n  angular\n    .module('pharzoneShop')\n    .service('PharzoneShop', PharzoneShop);\n}());\n"],"sourceRoot":"/source/"}